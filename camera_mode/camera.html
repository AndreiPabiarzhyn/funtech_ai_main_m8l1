<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–£–º–Ω–æ–µ –º–æ—Ä–µ ‚Äî –∫–∞–º–µ—Ä–∞ —Ä–µ–∂–∏–º</title>
    <link rel="stylesheet" href="camera.css" />
  </head>

  <body>
    <script>
      // –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 1
      if (localStorage.getItem("stage1_completed") !== "yes") {
        window.location.href = "../index.html";
      }
    </script>

    <div class="app">
      <header class="header">
        <h1>–£–º–Ω–æ–µ –º–æ—Ä–µ ‚Äî –ö–∞–º–µ—Ä–∞ üé•</h1>
        <p class="subtitle">
          –ü–æ–∫–∞–∂–∏ <span class="fish-text">—Å–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ</span> –∏–ª–∏
          <span class="trash-text">–∂–µ—Å—Ç—ã —Ä—É–∫–∞–º–∏</span>. –û–±—É—á–∏ –ò–ò!
        </p>
      </header>

      <main>

        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ª–∞–º–ø–∞ -->
        <div id="centerLamp" class="center-lamp"></div>

        <!-- –ö–∞–º–µ—Ä–∞ -->
        <section class="camera-area">
          <video id="video" autoplay playsinline></video>
        </section>

        <!-- –ë–õ–û–ö –û–ë–£–ß–ï–ù–ò–Ø -->
        <section id="trainButtons" class="buttons-section">
          <p class="instruction">–ü–æ–∫–∞–∂–∏ –≤ –∫–∞–º–µ—Ä—É –∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É:</p>

          <div class="buttons-row">
            <button id="btnFace" class="btn btn-fish">
              üòú –°–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ <span id="faceCount">(0/10)</span>
            </button>

            <button id="btnHands" class="btn btn-trash">
              ‚úã –ñ–µ—Å—Ç—ã —Ä—É–∫–∞–º–∏ <span id="handsCount">(0/10)</span>
            </button>
          </div>

          <button id="btnStartTest2" class="btn btn-primary next-btn" hidden>
            –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–±—è üöÄ
          </button>
        </section>

        <!-- –†–ï–ñ–ò–ú –ü–†–û–í–ï–†–ö–ò (—Ä—É—á–Ω–æ–π) -->
        <section id="testArea" class="test-area" hidden>
          <h3 id="testCounter">–ü—Ä–æ–≤–µ—Ä–∫–∞ 1 –∏–∑ 10</h3>

          <div id="testMessage" class="test-message">
            –Ø –≥–æ—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å!
          </div>

          <div class="buttons-row test-buttons">
            <button id="btnRecognize" class="btn btn-primary">
              –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å
            </button>

            <button id="btnNext" class="btn btn-secondary" hidden>
              –î–∞–ª–µ–µ ‚ûú
            </button>
          </div>
        </section>

        <!-- –ò–¢–û–ì–ò -->
        <section id="summary2" class="summary-section" hidden>
          <h2>–ò—Ç–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏</h2>
          <div id="summaryText2" class="summary-content"></div>

          <div class="buttons-row" style="justify-content:center; gap:20px;">
            <button id="btnRestart2" class="btn btn-secondary">
              –ü—Ä–æ–π—Ç–∏ —Ä–µ–∂–∏–º –∫–∞–º–µ—Ä—ã –∑–∞–Ω–æ–≤–æ üîÅ
            </button>

            <button id="btnBackToMode1" class="btn btn-primary">
              –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–∂–∏–º—É 1 üê†
            </button>
          </div>
        </section>

        <canvas id="calcCanvas2" width="64" height="64" hidden></canvas>

      </main>
    </div>

    <script type="module" src="./js/camera_app.js"></script>
  </body>
</html>
